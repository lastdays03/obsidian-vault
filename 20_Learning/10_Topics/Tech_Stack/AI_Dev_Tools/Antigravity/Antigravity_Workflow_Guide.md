---
tags: [knowledge/guide, methodology/antigravity]
Up: [[Antigravity_MOC]]
---

# 구글 안티그래비티(antigravity)로 에이전트 워크플로우 만들기 가이드

이 문서는 투쏠님의 영상 「해외에서는 2달전부터 '이걸로' 자동화의 판도가 뒤바뀌었습니다 (구글 안티그래비티)」 내용을 기반으로, 안티그래비티로 에이전트 워크플로우를 만드는 과정을 정리한 가이드입니다.

---

## 1. 개요

- **기존 자동화**: n8n, Zapier, Make 등에서 사람이 **직접** 노드를 설계하고 조건·분기·API 호출을 일일이 구성해야 했음.
- **새로운 방식**: “에이전트 워크플로우”
  - 사람이 “무엇을 하고 싶은지(목표)”만 자연어로 설명하면, AI가 다음과 같은 작업을 스스로 수행:
    - 필요한 파일/폴더 구조 설계
    - 스크립트 작성
    - 오류 디버깅 및 수정
- **안티그래비티**: VS Code 기반의 도구로, 로컬 환경에서 에이전트 워크플로우를 실행해 “내 컴퓨터 안의 팀원”처럼 활용하는 것을 목표로 함.

---

## 2. 목표 워크플로우 시나리오

영상에서 구현하는 예시는 다음과 같은 자동화입니다.

1. **Threads 계정 수집**: “초이” 님 계정의 게시물을 RSS로 수집
2. **필터링**: 최근 24시간 이내 게시물만 필터링
3. **분석 및 가공**: 각 게시물 내용을 읽고 요약 및 인사이트/적용 방안 도출
4. **리포팅**: 결과를 HTML 리포트 형태로 이메일 전송 (가독성 좋은 디자인)

**사용 도구**:
- 안티그래비티 (에이전트 실행 환경)
- RSS.app (Threads 계정 → RSS 피드 생성)
- Google AI Studio (Gemini API 키 발급)
- Google Cloud Console (Gmail OAuth 설정)

---

## 3. 사전 준비

### 3.1 안티그래비티 설치 및 폴더 준비
1. 안티그래비티 설치 및 기본 세팅 완료 후 실행.
2. `Open Folder` 기능으로 작업용 폴더 생성 및 열기 (예: `2026-01-21_threads_choy`).

### 3.2 VS Code 확장(Extensions) 설치
1. 좌측 `Extensions` 메뉴에서 `Python` 검색.
2. Microsoft Python 확장 설치 (필수).

### 3.3 안티그래비티 유저 세팅 조정
1. 우상단 톱니바퀴(설정) → `Open Antigravity User Settings`.
2. `terminal.commandAutoExecution` 값을 `alwaysProceed` 로 변경.
   - 변경 시 에이전트가 필요한 터미널 명령을 자동으로 실행하여 효율성 증대.

---

## 4. 에이전트 지침서(Agents.md) 설정

### 4.1 지침서의 역할
- Nick(닉사라이브)의 `Agent(s).md` 파일 기반.
- 에이전트의 사고 방식, 프로젝트 구조 생성 규칙, 실행 원칙 등을 정의하는 매뉴얼.

### 4.2 Agents.md 생성
1. 제공된 Google Docs 링크에서 에이전트 지침 내용을 복사.
2. VS Code에서 새 파일 생성: `Agents.md`.
3. 내용 붙여넣기 및 저장.

### 4.3 에이전트 구조 (3 레이어)
1. **Directive / Direct 파일 레이어**: “무엇을 할지”에 대한 상위 설계. (중간급 직원 매뉴얼)
2. **오케스트레이션 레이어**: 도구 사용 순서, 에러 처리, 사용자 질문 여부를 결정하는 “현장 감독”.
3. **실행 레이어 (Python)**: 실제 실행을 담당하는 Python 스크립트.

---

## 5. 안티그래비티에서 프로젝트 구조 자동 생성

### 5.1 Agents.md 연결
1. 채팅창에서 `@` 입력 후 `Agents.md` 선택 또는 드래그.
2. 모드를 `Planning` 으로 변경.

### 5.2 프로젝트 구조 요청
> “이 파일(Agents.md)을 읽고 프로젝트 구조를 설정해줘.”
- 에이전트가 지침에 따라 폴더 및 파일을 자동 생성.
- 파일이 보이지 않을 경우, 로그/스크린샷과 함께 다시 질문하여 수정 요청.

---

## 6. 워크플로우 요구사항 정의 (자연어)

### 6.1 자연어로 업무 설명하기
> “Threads에서 ‘초이’라는 사람의 게시물을 RSS로 가져와서, 최근 24시간 이내 게시물만 필터링하고, 각 게시물 내용을 읽고 요약과 적용할 점을 뽑아서 내 이메일로 리포트를 보내주는 워크플로우를 만들고 싶어. 먼저 필요한 사항이 무엇인지 알려줘.” (Planning 모드)

### 6.2 에이전트가 요구하는 정보
1. Threads 계정의 RSS URL
2. Gemini API 키
3. 이메일 발신 설정 (Gmail OAuth 설정 정보)

---

## 7. 외부 서비스 설정

### 7.1 RSS.app (Threads RSS)
- Threads 프로필 URL → RSS.app 피드 생성 → Feed URL 복사.

### 7.2 Google AI Studio (Gemini API)
- `Get API Key` → 새 API 키 생성 및 복사.

### 7.3 Google Cloud Console (Gmail OAuth)
1. 새 프로젝트 생성.
2. **OAuth 동의 화면**: 외부 사용자, 필수 정보 입력.
3. **사용자 인증 정보**: OAuth 클라이언트 ID 만들기 (웹 애플리케이션).
   - `클라이언트 ID`, `클라이언트 비밀번호` 확보.
4. **Gmail API 활성화**: 라이브러리에서 검색 및 사용.
5. **범위(Scope)**: Gmail 관련 범위 추가.

### 7.4 리디렉션 URI 설정
- 안티그래비티 에이전트가 사용하는 URI (예: `http://localhost:8080/`)를 `승인된 리디렉션 URI`에 추가.

---

## 8. 워크플로우 생성 및 실행

### 8.1 구현 및 실행 (Fast 모드)
- 모드를 `Fast`로 변경하여 실제 코드 작성 진행.
- 에이전트가 자동 수행: 패키지 설치 (`pip`), 스크립트 작성, 설정 파일 저장.

### 8.2 테스트 및 디버깅
- 에이전트 제안 명령어로 수동 실행 (예: `python main.py`).
- **에러 대응 예시**:
  - 모델 버전 오류 (`gemini-1.5-flash` 지원 종료 등) → 최신 모델로 변경 요청.
  - OAuth 오류 → 리디렉션 URI 설정 재확인.

---

## 9. 이메일 리포트 형식 개선

### 9.1 디자인 요청
> “HTML과 CSS를 구성해서 미니멀한 디자인으로, 가독성을 최우선으로 고려해서 다시 이메일 리포트를 보내줘.”

### 9.2 결과물
- 카드형/섹션형 리포트로 재구성.
- 핵심 트렌드 요약 + 개별 게시물 인사이트 카드.

---

## 10. 에이전트 워크플로우의 특징

### 10.1 장점
- **자연어 프로그래밍**: 복잡한 로직 설계 없이 자연어로 의도만 전달하면 됨.
- **Local Ownership**: 모든 코드와 워크플로우가 로컬 머신에 자산으로 남음.
- **높은 유연성**: 수정 사항(API 교체, 디자인 변경)을 대화로 즉시 반영 가능.

### 10.2 n8n과의 차이
- **n8n**: 시각적 노드 기반, 결정적 플로우(Deterministic Flow)에 유리.
- **Antigravity**: 코드 기반(Code-First), LLM이 직접 코딩/디버깅 수행.

---

## 11. 활용 아이디어
- 뉴스/커뮤니티 모니터링 및 인사이트 메일링
- 변경 로그 모니터링
- 팀 데일리 브리핑 자동화
- 개인 리서치 에이전트

---

## 💡 Key Insights
*   **Zero-Code Automation**: 안티그래비티는 사용자가 노드를 직접 연결할 필요 없이, 자연어 설명만으로 복잡한 자동화 파이프라인을 구축할 수 있게 해줍니다.
*   **Local-First Execution**: 클라우드 기반 툴(Zapier 등)과 달리, 에이전트가 로컬 VS Code 환경에서 실행되므로 데이터 프라이버시와 커스터마이징 자유도가 높습니다.
*   **Dynamic Adaptation**: "디자인을 바꿔줘", "API를 변경해줘" 같은 요청에 대해 에이전트가 즉각적으로 코드를 수정(Refactor)하여 대응하는 유연성을 가집니다.
