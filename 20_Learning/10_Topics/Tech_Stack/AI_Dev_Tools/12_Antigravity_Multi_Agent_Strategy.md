---
tags:
  - knowledge/strategy
  - tool/antigravity
  - tool/claude-code
  - ai-team
Up: [[10_AI_CLI_Orchestration]]
Source: Antigravity Multi-Agent Strategy
---

# 12. Antigravity Dual Core Strategy (2026 Bulletproof Edition)

본 문서는 **안티그래비티(Antigravity)**의 대규모 컨텍스트 처리 능력과 **클로드 코드(Claude Code)**의 정교한 추론 능력을 결합한 최적의 개발 공정입니다. 기존 전략의 약점인 **맥락 단절, 할루시네이션(환각) 전이, 검증 부재**를 해결하기 위한 '안전장치(Safety Nets)'가 강화되었습니다.

---

### 1. 역할 정의: "The Dual Core Engine"

단순한 분업을 넘어, 상호 보완적인 듀얼 엔진 체제로 운영합니다.

| 엔진 (Engine)                | 역할 (Persona)                 | 핵심 임무 및 고도화 전략                                                                                                                  |
| :--------------------------- | :----------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------- |
| **Antigravity** (Gemini 3.0) | **준비하는 자 (The Preparer)** | **[Context & Scaffold]** 대용량 로그 분석, 의존성 스캐닝, 구조적 초안 작성. 단, 로직 구현 대신 **엄격한 타입 힌트와 껍데기** 생성에 집중. |
| **Claude Code** (Claude 4.5) | **완성하는 자 (The Finisher)** | **[Logic & Critique]** 안티그래비티의 초안을 비평(Critique)하고, 비즈니스 로직 완성 및 TDD 기반 검증 수행.                                |

---

### 2. 고도화된 워크플로우 (Draft - Critique - Refine)

기존 2단계 공정에 '비평'과 '검증' 단계를 추가하여 할루시네이션의 나비효과를 차단합니다.

#### **1단계: 준비 및 스캐폴딩 (Draft by Antigravity)**
*   **Action:** 로그나 레거시 코드를 분석하여 폴더 구조와 파일 초안을 생성합니다.
*   **보완점 (Context Injection):** 파일 최상단에 **[GENERATED CONTEXT]** 섹션을 만들어 **분석 결과, 해결 의도, 참고 로그**를 주석으로 명시합니다. 이는 클로드에게 전달되는 '인수인계서'입니다.
*   **보완점 (TDD Default):** 기능 코드 초안뿐만 아니라, 이를 검증할 **테스트 케이스(`test_*.py`) 초안**을 동시에 생성합니다.

#### **2단계: 사전 비평 (Critique by Claude)**
*   **Action:** 클로드가 본격적인 코딩 전, 안티그래비티의 초안을 읽고 진단합니다.
*   **명령 예시:** "코딩 시작 전, 이 초안의 구조적 결함이나 누락된 의존성, 환각 요소를 진단(Critique)해줘".
*   **효과:** 잘못된 초안을 바탕으로 작업을 시작하여 발생하는 토큰 낭비와 오류 확산을 방지합니다.

#### **3단계: 완성 및 검증 (Refine by Claude)**
*   **Action:** 진단 결과를 바탕으로 비즈니스 로직을 완성하고, 생성된 테스트를 통과시킵니다.
*   **효과:** 명확한 '통과 기준(Definition of Done)'을 가짐으로써 자가 수정 루프를 완성합니다.

---

### 3. 심플 라우팅 및 규칙 업데이트 (`.agent/rules.md`)

전략의 자동화를 위해 다음 규칙을 설정 파일에 반영합니다.

1.  **Strict Scaffolding:** "안티그래비티는 로직을 구현하지 마라. 대신 정확한 클래스 구조, 완벽한 타입 힌트, 올바른 임포트 구문에만 집중하라".
2.  **Sticky Note Rule:** "모든 초안 파일 상단에는 반드시 분석 내용과 구현 가이드라인을 3줄 요약 주석으로 포함하라".
3.  **Persistence Memory:** "각 작업 단계 후 요약본을 `.agent/memory.db`에 저장하여 세션 간 맥락을 유지하라".

---

### 4. 물리적 환경 및 거버넌스

*   **단일 뷰포트(Single Viewport):** 좌측 패널(안티그래비티 채팅), 하단 패널(클로드 CLI 터미널), 중앙(에디터) 레이아웃을 고정하여 인지 부하를 줄입니다.
*   **거버넌스 및 모니터링:** 안티그래비티의 무한 루프 방지를 위해 '안전 모드'를 활성화하고, 모델별 토큰 사용량과 ROI를 추적합니다.
*   **MCP 서버 활용:** 클로드 코드의 MCP(Model Context Protocol)를 통해 브라우저 자동화나 외부 도구 연동을 확장하여 프로젝트 완결성을 높입니다.

---

### **[결론] Director's Pro Tips**

2026년의 디렉터는 단순히 일을 시키는 사람이 아니라, **AI 간의 '인수인계 품질'을 관리하는 관리자**입니다.
1.  안티그래비티에게 **"타입 힌트와 껍데기만 만들어"**라고 지시하여 속도를 높이십시오.
2.  항상 **테스트 코드 초안을 함께 요구**하여 클로드에게 명확한 목표를 주십시오.
3.  클로드에게 **"먼저 비평해줘"**라고 한 마디 덧붙임으로써 비싼 토큰 낭비를 막으십시오.

**💡 요약하자면:** 이 전략은 **'부사수(Gemini)가 작성한 정교한 설계도와 검토 리스트를 보고 수석 전문의(Claude)가 집도하는 수술'**과 같습니다. 중간에 비평 단계를 두어 설계도의 오류가 수술 실패로 이어지지 않도록 차단하는 것이 이 '방탄 전략'의 핵심입니다.
