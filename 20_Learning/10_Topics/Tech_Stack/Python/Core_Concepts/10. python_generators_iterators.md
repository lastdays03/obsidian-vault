---
tags:
  - knowledge/topic
Source: [[Python_MOC]]
---

# íŒŒì´ì¬ ì œë„ˆë ˆì´í„°ì™€ ì´í„°ë ˆì´í„° ì™„ì „ ê°€ì´ë“œ

## ğŸ“– ì •ì˜ (Definition)
**ì´í„°ë ˆì´í„°(Iterator)**ëŠ” ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ êº¼ë‚¼ ìˆ˜ ìˆëŠ” ê°ì²´ì´ë©°, **ì œë„ˆë ˆì´í„°(Generator)**ëŠ” `yield` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì´í„°ë ˆì´í„°ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ëª¨ë“  ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ì§€ ì•Šê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ìƒì„±(Lazy Evaluation)í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.

---

## ëª©ì°¨

1. [ì´í„°ëŸ¬ë¸”ê³¼ ì´í„°ë ˆì´í„°](#1-ì´í„°ëŸ¬ë¸”ê³¼-ì´í„°ë ˆì´í„°)
2. [ì œë„ˆë ˆì´í„°ë€?](#2-ì œë„ˆë ˆì´í„°ë€)
3. [ì œë„ˆë ˆì´í„° í•¨ìˆ˜](#3-ì œë„ˆë ˆì´í„°-í•¨ìˆ˜)
4. [ì œë„ˆë ˆì´í„° í‘œí˜„ì‹](#4-ì œë„ˆë ˆì´í„°-í‘œí˜„ì‹)
5. [ì œë„ˆë ˆì´í„° ë©”ì„œë“œ](#5-ì œë„ˆë ˆì´í„°-ë©”ì„œë“œ)
6. [ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ](#6-ì´í„°ë ˆì´í„°-í”„ë¡œí† ì½œ)
7. [ì œë„ˆë ˆì´í„° vs ë¦¬ìŠ¤íŠ¸](#7-ì œë„ˆë ˆì´í„°-vs-ë¦¬ìŠ¤íŠ¸)
8. [ì‹¤ì „ ì˜ˆì œ](#8-ì‹¤ì „-ì˜ˆì œ)
9. [ì£¼ì˜ì‚¬í•­](#9-ì£¼ì˜ì‚¬í•­)
10. [ìš”ì•½](#10-ìš”ì•½)

---

## 1. ì´í„°ëŸ¬ë¸”ê³¼ ì´í„°ë ˆì´í„°

### 1.1 ì´í„°ëŸ¬ë¸”(Iterable)

**ì´í„°ëŸ¬ë¸”**ì€ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ì…ë‹ˆë‹¤. `for` ë£¨í”„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
# ì´í„°ëŸ¬ë¸” ì˜ˆì‹œ
numbers = [1, 2, 3, 4, 5]  # ë¦¬ìŠ¤íŠ¸
text = "hello"              # ë¬¸ìì—´
numbers_range = range(5)    # range

# ëª¨ë‘ for ë£¨í”„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
for item in numbers:
    print(item)
```

### 1.2 ì´í„°ë ˆì´í„°(Iterator)

**ì´í„°ë ˆì´í„°**ëŠ” `next()` í•¨ìˆ˜ë¡œ ë‹¤ìŒ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ê°ì²´ì…ë‹ˆë‹¤.

```python
# ì´í„°ë ˆì´í„° ìƒì„±
numbers = [1, 2, 3]
iterator = iter(numbers)

# next()ë¡œ ê°’ ê°€ì ¸ì˜¤ê¸°
print(next(iterator))  # 1
print(next(iterator))  # 2
print(next(iterator))  # 3
# print(next(iterator))  # StopIteration ì˜ˆì™¸ ë°œìƒ
```

### 1.3 ì´í„°ëŸ¬ë¸” vs ì´í„°ë ˆì´í„°

```python
# ì´í„°ëŸ¬ë¸”
numbers = [1, 2, 3]
print(iter(numbers))  # <list_iterator object>

# ì´í„°ë ˆì´í„°ëŠ” iter()ë¥¼ í˜¸ì¶œí•˜ë©´ ìê¸° ìì‹  ë°˜í™˜
iterator = iter(numbers)
print(iter(iterator) is iterator)  # True
```

## 2. ì œë„ˆë ˆì´í„°ë€?

### 2.1 ì œë„ˆë ˆì´í„°ì˜ ê°œë…

**ì œë„ˆë ˆì´í„°(Generator)**ëŠ” ì´í„°ë ˆì´í„°ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```python
# ì œë„ˆë ˆì´í„° í•¨ìˆ˜
def count_up_to(max):
    count = 1
    while count <= max:
        yield count
        count += 1

# ì‚¬ìš©
counter = count_up_to(5)
for num in counter:
    print(num)  # 1, 2, 3, 4, 5
```

### 2.2 ì œë„ˆë ˆì´í„°ì˜ ì¥ì 

- **ë©”ëª¨ë¦¬ íš¨ìœ¨**: í•œ ë²ˆì— í•˜ë‚˜ì˜ ê°’ë§Œ ìƒì„±
- **ì§€ì—° í‰ê°€**: í•„ìš”í•  ë•Œë§Œ ê°’ ìƒì„±
- **ë¬´í•œ ì‹œí€€ìŠ¤**: ë¬´í•œí•œ ë°ì´í„° ìƒì„± ê°€ëŠ¥

## 3. ì œë„ˆë ˆì´í„° í•¨ìˆ˜

### 3.1 yield í‚¤ì›Œë“œ

```python
def simple_generator():
    yield 1
    yield 2
    yield 3

gen = simple_generator()
print(next(gen))  # 1
print(next(gen))  # 2
print(next(gen))  # 3
```

### 3.2 ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì˜ˆì œ

```python
def fibonacci(n):
    """í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ìƒì„±"""
    a, b = 0, 1
    count = 0
    while count < n:
        yield a
        a, b = b, a + b
        count += 1

# ì‚¬ìš©
for num in fibonacci(10):
    print(num)
```

### 3.3 ì œë„ˆë ˆì´í„°ì™€ return

```python
def generator_with_return():
    yield 1
    yield 2
    return "ì™„ë£Œ"  # ì œë„ˆë ˆì´í„° ì¢…ë£Œ (ê°’ì€ ë°˜í™˜ë˜ì§€ ì•ŠìŒ)
    yield 3  # ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

gen = generator_with_return()
print(list(gen))  # [1, 2]
```

## 4. ì œë„ˆë ˆì´í„° í‘œí˜„ì‹

### 4.1 ê¸°ë³¸ ì‚¬ìš©ë²•

```python
# ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜
squares_list = [x**2 for x in range(5)]  # [0, 1, 4, 9, 16]

# ì œë„ˆë ˆì´í„° í‘œí˜„ì‹
squares_gen = (x**2 for x in range(5))  # <generator object>
print(list(squares_gen))  # [0, 1, 4, 9, 16]
```

### 4.2 ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ë¹„êµ

```python
# ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ - ëª¨ë“  ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ì¥
big_list = [x**2 for x in range(1000000)]  # ë©”ëª¨ë¦¬ ë§ì´ ì‚¬ìš©

# ì œë„ˆë ˆì´í„° í‘œí˜„ì‹ - í•„ìš”í•  ë•Œë§Œ ìƒì„±
big_gen = (x**2 for x in range(1000000))  # ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
```

### 4.3 ì œë„ˆë ˆì´í„° í‘œí˜„ì‹ ì˜ˆì œ

```python
# ì¡°ê±´ë¶€ ì œë„ˆë ˆì´í„°
evens = (x for x in range(10) if x % 2 == 0)
print(list(evens))  # [0, 2, 4, 6, 8]

# ì¤‘ì²© ì œë„ˆë ˆì´í„°
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
flattened = (item for row in matrix for item in row)
print(list(flattened))  # [1, 2, 3, 4, 5, 6, 7, 8, 9]
```

## 5. ì œë„ˆë ˆì´í„° ë©”ì„œë“œ

### 5.1 send() ë©”ì„œë“œ

```python
def generator_with_send():
    value = yield
    while True:
        value = yield value * 2

gen = generator_with_send()
next(gen)  # ì œë„ˆë ˆì´í„° ì‹œì‘
print(gen.send(5))   # 10
print(gen.send(10))  # 20
```

### 5.2 throw() ë©”ì„œë“œ

```python
def generator_with_throw():
    try:
        yield 1
        yield 2
    except ValueError:
        yield "ì—ëŸ¬ ì²˜ë¦¬ë¨"

gen = generator_with_throw()
print(next(gen))  # 1
print(gen.throw(ValueError))  # "ì—ëŸ¬ ì²˜ë¦¬ë¨"
```

### 5.3 close() ë©”ì„œë“œ

```python
def generator_with_close():
    try:
        yield 1
        yield 2
        yield 3
    except GeneratorExit:
        print("ì œë„ˆë ˆì´í„° ì¢…ë£Œ")

gen = generator_with_close()
print(next(gen))  # 1
gen.close()  # ì œë„ˆë ˆì´í„° ì¢…ë£Œ
```

## 6. ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ

### 6.1 ì»¤ìŠ¤í…€ ì´í„°ë ˆì´í„° í´ë˜ìŠ¤

```python
class CountDown:
    def __init__(self, start):
        self.start = start
    
    def __iter__(self):
        return self
    
    def __next__(self):
        if self.start <= 0:
            raise StopIteration
        self.start -= 1
        return self.start + 1

# ì‚¬ìš©
counter = CountDown(5)
for num in counter:
    print(num)  # 5, 4, 3, 2, 1
```

## 7. ì œë„ˆë ˆì´í„° vs ë¦¬ìŠ¤íŠ¸

### 7.1 ì„±ëŠ¥ ë¹„êµ

```python
import sys

# ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜
list_comp = [x**2 for x in range(1000)]
print(sys.getsizeof(list_comp))  # í° ë©”ëª¨ë¦¬ ì‚¬ìš©

# ì œë„ˆë ˆì´í„° í‘œí˜„ì‹
gen_expr = (x**2 for x in range(1000))
print(sys.getsizeof(gen_expr))  # ì‘ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©
```

### 7.2 ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

**ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ ì‚¬ìš©:**
- ëª¨ë“  ê°’ì„ í•œ ë²ˆì— í•„ìš”í•  ë•Œ
- ì¸ë±ì‹±ì´ë‚˜ ìŠ¬ë¼ì´ì‹±ì´ í•„ìš”í•  ë•Œ
- ì—¬ëŸ¬ ë²ˆ ë°˜ë³µí•´ì•¼ í•  ë•Œ

**ì œë„ˆë ˆì´í„° ì‚¬ìš©:**
- ë©”ëª¨ë¦¬ê°€ ì œí•œì ì¼ ë•Œ
- í° ë°ì´í„°ì…‹ ì²˜ë¦¬
- í•œ ë²ˆë§Œ ìˆœíšŒí•  ë•Œ
- ë¬´í•œ ì‹œí€€ìŠ¤ ìƒì„±

## 8. ì‹¤ì „ ì˜ˆì œ

### 8.1 íŒŒì¼ ì½ê¸°

```python
def read_large_file(filename):
    """í° íŒŒì¼ì„ í•œ ì¤„ì”© ì½ê¸°"""
    with open(filename, 'r') as f:
        for line in f:
            yield line.strip()

# ì‚¬ìš©
for line in read_large_file('large_file.txt'):
    process(line)
```

### 8.2 ë°°ì¹˜ ì²˜ë¦¬

```python
def batch_process(items, batch_size=10):
    """í•­ëª©ì„ ë°°ì¹˜ë¡œ ë‚˜ëˆ„ê¸°"""
    for i in range(0, len(items), batch_size):
        yield items[i:i + batch_size]

items = list(range(100))
for batch in batch_process(items, batch_size=20):
    print(batch)
```

### 8.3 ë¬´í•œ ì‹œí€€ìŠ¤

```python
def infinite_counter(start=0):
    """ë¬´í•œ ì¹´ìš´í„°"""
    while True:
        yield start
        start += 1

counter = infinite_counter(10)
for i, num in enumerate(counter):
    if i >= 5:
        break
    print(num)  # 10, 11, 12, 13, 14
```

### 8.4 íŒŒì´í”„ë¼ì¸ íŒ¨í„´

```python
def numbers():
    for i in range(10):
        yield i

def square(nums):
    for num in nums:
        yield num ** 2

def filter_even(nums):
    for num in nums:
        if num % 2 == 0:
            yield num

# íŒŒì´í”„ë¼ì¸ ì—°ê²°
pipeline = filter_even(square(numbers()))
print(list(pipeline))  # [0, 4, 16, 36, 64]
```

## 9. ì£¼ì˜ì‚¬í•­

### 9.1 ì œë„ˆë ˆì´í„°ëŠ” í•œ ë²ˆë§Œ ì‚¬ìš© ê°€ëŠ¥

```python
gen = (x for x in range(5))
print(list(gen))  # [0, 1, 2, 3, 4]
print(list(gen))  # [] - ì´ë¯¸ ì†Œë¹„ë¨!
```

### 9.2 ì œë„ˆë ˆì´í„° ì¬ìƒì„±

```python
# ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ í˜¸ì¶œ
def numbers():
    for i in range(5):
        yield i

gen1 = numbers()
gen2 = numbers()  # ìƒˆë¡œìš´ ì œë„ˆë ˆì´í„°
print(list(gen1))  # [0, 1, 2, 3, 4]
print(list(gen2))  # [0, 1, 2, 3, 4]
```

## 10. ìš”ì•½

### í•µì‹¬ ê°œë…

1. **ì´í„°ëŸ¬ë¸”**: ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´
2. **ì´í„°ë ˆì´í„°**: `next()`ë¡œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê°ì²´
3. **ì œë„ˆë ˆì´í„°**: `yield`ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜
4. **ì œë„ˆë ˆì´í„° í‘œí˜„ì‹**: ê´„í˜¸ë¡œ ë§Œë“œëŠ” ì œë„ˆë ˆì´í„°

### ì£¼ìš” íŠ¹ì§•

- âœ… ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
- âœ… ì§€ì—° í‰ê°€
- âœ… ë¬´í•œ ì‹œí€€ìŠ¤ ìƒì„± ê°€ëŠ¥
- âš ï¸ í•œ ë²ˆë§Œ ì‚¬ìš© ê°€ëŠ¥

### ì‚¬ìš© ì‹œê¸°

- **ì œë„ˆë ˆì´í„°**: í° ë°ì´í„°, ë©”ëª¨ë¦¬ ì œí•œ, í•œ ë²ˆë§Œ ìˆœíšŒ
- **ë¦¬ìŠ¤íŠ¸**: ëª¨ë“  ê°’ í•„ìš”, ì¸ë±ì‹±, ì—¬ëŸ¬ ë²ˆ ë°˜ë³µ

